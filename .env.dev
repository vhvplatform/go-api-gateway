# Dev Integration Environment Configuration for API Gateway
# MongoDB Replica Set (Dev Integration)
MONGODB_URI=mongodb://colombo:SASSMongoDB%232627@192.168.1.203:27017,192.168.1.222:27017,192.168.1.223:27017/saas_framework?authSource=admin&replicaSet=dbsaas&readPreference=secondaryPreferred&retryWrites=true
MONGODB_DATABASE=saas_framework

# Redis (Dev Integration - DISABLED)
REDIS_URL=redis://192.168.1.203:6379/0
REDIS_ENABLED=false
REDIS_PASSWORD=
REDIS_MAX_RETRIES=3
REDIS_POOL_SIZE=10

# Gateway Port
GATEWAY_PORT=8080

# Service Discovery (gRPC addresses)
AUTH_SERVICE_GRPC_ADDR=localhost:50051
USER_SERVICE_GRPC_ADDR=localhost:50052
TENANT_SERVICE_GRPC_ADDR=localhost:50053
NOTIFICATION_SERVICE_GRPC_ADDR=localhost:50054

# Service Discovery (HTTP addresses for proxy)
USER_SERVICE_HTTP_ADDR=http://192.168.1.203:8082
TENANT_SERVICE_HTTP_ADDR=http://192.168.1.203:8083
NOTIFICATION_SERVICE_HTTP_ADDR=http://192.168.1.203:8084
PAGE_SERVICE_HTTP_ADDR=http://localhost:3000

# JWT Configuration
JWT_SECRET=dev-integration-secret-change-in-production
JWT_EXPIRY=15m
JWT_REFRESH_EXPIRY=7d

# Logging
LOG_LEVEL=debug
LOG_FORMAT=json
LOG_OUTPUT=stdout

# CORS
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:8080
CORS_ALLOWED_METHODS=GET,POST,PUT,DELETE,OPTIONS,PATCH
CORS_ALLOWED_HEADERS=Content-Type,Authorization,X-Tenant-ID,X-Internal-Token
CORS_MAX_AGE=3600

# Environment
ENVIRONMENT=development

# Cache Configuration (Two-Tier)
CACHE_LOCAL_ENABLED=true
CACHE_LOCAL_MAX_COST=10000
CACHE_LOCAL_NUM_COUNTERS=100000
CACHE_REDIS_ENABLED=true
CACHE_REDIS_DEFAULT_TTL=15m
CACHE_REDIS_KEY_PREFIX=gateway

# Rate Limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_DURATION=1m

# Circuit Breaker
CIRCUIT_BREAKER_ENABLED=true
CIRCUIT_BREAKER_THRESHOLD=5
CIRCUIT_BREAKER_TIMEOUT=30s
